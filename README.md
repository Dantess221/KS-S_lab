# KS-S_lab
 Implementation of a laboratory workshop on the discipline of KSCS

Этот проект реализовует клиент-серверное приложение с использованием UDP протокола для передачи данных.
Клиент написан на языке програмирования C++ и представляет собой консольное приложение.
Сервер написан на языке програмирования C# и представляет собой WPF приложение с использованием MVVM архитектуры.
 
Описание работы клиента :
Имеется статически заданный IP и Порт сервера, на который производится передача команд, введённых через консольную строку.

Формат команды: [Command:] [param 1] [param 2]...[param N]

Пример: [draw line: 0 0 4 4 #000000]

где: [draw line:] - исполняемая команда. В данном случае означает отрисовку линии на прожутке между 2 координатами
	[0 0 4 4] - Координаты точек (первой идёт X координата, второй - Y)(буквально - [x1 y1 x2 y2])
	[#000000] - Цвет кисти исполняемой команды. В данном случае - цвет чёрный. 

(В конце будет список всех команд)

Следующим шагом будет Преобразование команды в массив байтов. Происходит это по следующей логике:

[Command:] преобразуется в один байт, отвечающий за номер команды
[param] преобразуется в N байтов (зависит от структуры команды)

К примеру:
[draw line:] -> [2]
[0 0 4 4] -> [0][0] [0][0] [4][0] [4][0]
[#000000] -> [0][0][0]

Итоговый пакет состоит из следующего набора байтов: 
{[2][0][0][0][0][4][0][4][0][0][0][0]}

Он отправляется на сервер при помощи UDP протокола.

Описание работы сервера : 
При получении любого входящего пакета идёт морфологический разбор конструкции полученной команды:
Проверяется 1 байт пакета, который отвечает за команду в конструкции Switch...Case

Исходя из выбранной команды выбирается её структура параметров

В нашем случае это :
[x1][y1] [x2][y2] [Color]
Где координаты состоят из 2 байтов, а цвет из 3.
Сделаем проверку количества байтов(не считая 1 байта): [N байтов в пакете]-1 == 4*2+3
11 == 11 - это значит команда прошла проверку.
Разбираем пакет на переменные и подставляем в функцию.
Выводится в консоль отладки результат выполнения команды или выводится сообщение об ошибке.

Отображаем результат отрисовав линию на пиксельной канве в визуальной части приложения.



Список всех команд:

[0]clear display: color
[1]draw pixel: x0, y0, color
[2]draw line: x0, y0, x1, y1, color
[3]draw rectangle: x0, y0, w, h, color
[4]fill rectangle: x0, y0, w, h, color
[5]draw ellipse: x0, y0, radius_x, radius_y, color
[6]fill ellipse: x0, y0, radius_x, radius_y, color
[7]draw circle: x0, x0, radius, color
[8]fill circle: x0, y0, radius, color
[9]draw rounded rectangle: x0, y0, w, h, radius, color
[10]fill rounded rectangle: x0, y0, w, h, radius, color
[11]draw text: x0, y0, color, font_number, length, text
[12]draw image: x0, y0, w, h, data 

Параметры:
x0, x1, y0, y1, w, h, font_number, length, radius, radius_x, radius_y   -> int16
color -> RGB888
text -> String
data -> byte[] 

Ограничения канвы: 
height=150
width=150
data_max = 150x150

Ограничения выставленны по собственному желанию.




